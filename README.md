## [NEXTSTEP 플레이그라운드의 미션 진행 과정](https://github.com/next-step/nextstep-docs/blob/master/playground/README.md)

---
## 학습 효과를 높이기 위해 추천하는 미션 진행 방법

---
1. 피드백 강의 전까지 미션 진행 
> 피드백 강의 전까지 혼자 힘으로 미션 진행. 미션을 진행하면서 하나의 작업이 끝날 때 마다 add, commit
> 예를 들어 다음 숫자 야구 게임의 경우 0, 1, 2단계까지 구현을 완료한 후 push


```
git branch -a // 모든 로컬 브랜치 확인
git checkout master // 기본 브랜치가 master인 경우
git checkout main // 기본 브랜치가 main인 경우

git checkout -b 브랜치이름
ex) git checkout -b apply-feedback
```
## 프로그램 이해하기 

1. 블랙잭 게임은 딜러와 플레이어 중 카드의 합이 21 또는 21에 가장 가까운 숫자를 가지는 쪽이 이기는 게임이다. 
   - 카드의 숫자 계산은 카드 숫자를 기본으로 하며, 예외로 Ace는 1 또는 11로 계산할 수 있으며, King, Queen, Jack은 각각 10으로 계산한다.
   - Card (including int number) - ENUM으로도 가능

2. 게임을 시작하면 플레이어는 두 장의 카드를 지급 받으며, 두 장의 카드 숫자를 합쳐 21을 초과하지 않으면서 21에 가깝게 만들면 이긴다. 
   - 지급 받은 카드 ReceivedCards
   - 21보다 작고 가까운 합을 구해야 한다 

3. 21을 넘지 않을 경우 원한다면 얼마든지 카드를 계속 뽑을 수 있다.
   - y/n로 뽑을 수 있다 

4. 단, 카드를 추가로 뽑아 21을 초과할 경우 배팅 금액을 모두 잃게 된다.
   - 21을 추가한다면 베팅 금액을 잃게 된다 
   - Game 상에서는 PlayerAndMoney (Player - Money) Map 형식으로 관리하는 것이 좋겠다 

5. 처음 두 장의 카드 합이 21일 경우 블랙잭이 되면 베팅 금액의 1.5 배를 딜러에게 받는다.
   - 카드 합이 21이면 베팅 금액 * 1.5 를 달러에게 받는다
   - 플레이어는 자신의 금액 * 1.5 배를 받는다
   - 딜러는 베팅 금액의 1.5 배를 잃는다 

6. 딜러와 플레이어가 모두 동시에 블랙잭인 경우 플레이어는 베팅한 금액을 돌려받는다.
   - 동시에 블랙잭(동시에 21인 경우에는) 플레이어는 이익도 손해도 없다 (0원)
   - 딜러도 0원 

7. 딜러는 처음에 받은 2장의 합계가 16이하이면 반드시 1장의 카드를 추가로 받아야 하고,
   - 16 이하면 무조건 카드를 받아야 한다 

8. 17점 이상이면 추가로 받을 수 없다.
   - 17이상이면 아무것도 하지 못한다 

9. 딜러가 21을 초과하면 그 시점까지 남아 있던 플레이어들은 가지고 있는 패에 상관 없이 승리해 베팅 금액을 받는다
   - 기존 플레이어에서 21을 초과한 사람을 제외한다 ( 21을 초과한 사람은 베팅 금액을 잃게 된다 ) 
   - 나머지 플레이어들은 자신의 베팅 금액을 받는다 

---

### 기능 명세 사항 구분하기 
#### 카드를 표현한다. 
- [x] 카드는 A, 2 - 0, Jack, Queen, King의 수로 구성되어 있으며, 문양은 4가지 종류로 구성되어 있다
  - [x] A, 2-9, Jack, Queen, King 으로 구성되어 있다
    - [x] Random 형태로 정해지는 형태가 되겠다 - "A", "1", "2", ... , "J", "Q", "K" (String과 match 되도록 구성)
  - [x] 문양은 4가지 종류로 스페이드, 다이아몬드, 하트, 클로버로 구성되어 있다
    - [x] ENUM에서 처리하지 않고 따로 4가지 종류를 가진 배열을 구성해서 아무거나 하나 선정하고 전달하는 방식으로 진행 
  - [x] Card는 숫자 그리고 문양으로 구성되어 있다고 생각하면 되겠다

#### 플레이어 그리고 딜러 
##### 플레이어의 규칙 
- [x] 플레이어는 게임을 시작할 때 배팅 금액을 정해야 한다. 
  - [x] 플레이어는 베팅 금액을 가지고 있다 Player.battingMoney
- [x] 게임을 시작하면 플레이어는 두 장의 카드를 지급 받으며, 두 장의 카드 숫자를 합쳐 21을 초과하지 않으면서 21에 가깝게 만들면 이긴다.
  - [x] 플레이어는 두 장의 카드를 지급 받는다 Player.startWithTwoCards(Card, Card)
  - [x] 지급 받은 카드의 합을 구한다 Player.score()
- 
- [x] 딜러는 베팅 금액을 정하지 않는다
  - [x] 딜러는 플레이어와 같이 두 장의 카드를 지급 받는다
  - ~~[] 딜러와 플레이어가 모두 동시에 블랙잭인 경우 플레이어는 베팅한 금액을 돌려받는다.~~

게임을 시작하면 플레이어는 두 장의 카드를 지급 받으며, 두 장의 카드 숫자를 합쳐 21을 초과하지 않으면서 21에 가깝게 만들면 이긴다.

- [x] 지급받은 두 장의 카드의 합을 확인합니다
  - [x] 합이 21을 넘지 않는다면 카드를 더 뽑을지를 확인합니다
  - [x] 합이 21을 넘는 경우, 카드를 더 뽑을 수 없으며 베팅 금액을 모두 잃는다
  - [x] 합이 21인 경우
    - [x] 딜러가 지급받은 두 장의 카드 합을 확인합니다 (GameController에서 담당해야 하는 주요 게임 규칙들) 
      - [x] 딜러의 카드 합도 21인 경우 플레이어는 베팅 금액을 돌려받는다
      - [x] 딜러의 카드 합이 21이 아닌 경우 딜러로부터 베팅 금액의 1.5 배를 받는다 


#### GameController
- [x] 딜러, 플레이어에게 랜덤 카드 2장씩을 지급합니다
  - [x] 딜러 그리고 플레이어 모두 지급 받은 카드의 합을 확인합니다
    - [x] 딜러 그리고 플레이어 모두가 블랙잭인 경우(모두 21인 상황) 베팅 금액을 돌려받습니다 (수익도 손해도 존재하지 않는다)
      - [x] 플레이어만 블랙잭인 경우 딜러로부터 베팅 금액의 1.5배를 받습니다 
      - [x] 이외의 경우 게임을 진행합니다 (카드를 분배합니다) 
    - [x] 플레이어에게 카드를 추가적으로 지급할 수 있는지 확인합니다
      - [x] 플레이어는 카드 합이 21보다 작아야 합니다 
      - [x] 플레이어에게 카드를 추가적으로 지급합니다(지급할 수 없다면, 그대로 진행합니다)
        - [x] 플레이어의 카드 합이 21보다 큰 경우 카드 지급이 불가합니다 
    - [x] 딜러에게 카드를 추가적으로 지급할 수 있는지 확인합니다
      - [x] 딜러의 카드 합이 17보다 작은 경우 카드를 더 받을 수 있습니다  
        - [x] 딜러에게 카드를 추가적으로 지급합니다(지급할 수 없다면, 그대로 진행합니다)
          - [x] 카드의 합이 17 이상이 되면 더 이상 카드를 받을 수 없습니다 
    - [] 딜러와 각각의 플레이어들의 점수를 확인합니다
      - [] 21에 더 가까운 승자를 확인합니다
      - [] 패자는 베팅 금액을 잃습니다
      - [] 승자는 베팅 금액을 얻습니다 
  
#### ACE 카드 관련 처리
처음 지급받은 두 장의 카드 합을 구하는 상황, 그리고 최종적인 카드의 합을 구하는 상황과 독립적으로 구분해서 진행했다
- [x] 2장의 카드 합을 구하는 상황에서는 ACE를 가지고 있고 합이 11인 경우 21을 반환한다 (블랙잭)
- [x] 최종적인 카드 합을 구할 때 ACE를 가지고 있다면 11 이하인 경우에는 +10, 이외의 경우에는 그대로 반환한다 
      
        
        
##### 딜러의 규칙
- [] 지급받은 두 장의 카드의 합을 확인합니다 
  - [x] 합이 16 이하면 카드를 추가로 받습니다
  - [x] 17 이상이면 추가로 받지 못합니다
  - [] 21을 초과한 경우 남아있는 플레이어들은 베팅 금액을 받습니다
